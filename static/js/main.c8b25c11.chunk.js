(this.webpackJsonpcoding=this.webpackJsonpcoding||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(17),s=a(16),i=a.n(s),o=(a(82),a(29)),l=a(9),j=a(7),u=a(119),d=a(120),b=a(125),h=a(8),O=a(127),p=a(68),x=a.n(p),m=a(2),f=function(e){return Object(m.jsx)(O.a,Object(h.a)(Object(h.a)({style:Object(h.a)({},e.style),className:x.a.button},e),{},{children:e.children}))},g=a(32),v=a.n(g),C=a(12),N=a.n(C),_=a(23),y="ADD_PATIENT_REQUEST",S="ADD_PATIENT_SUCCESS",w="EDIT_PATIENT_REQUEST",E="EDIT_PATIENT_SUCCESS",L="DELETE_PATIENT",T="RESET_DATA",D="USER_LOGOUT",P=function(e){return function(){var t=Object(_.a)(N.a.mark((function t(a){return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a({type:T}),a({type:D}),window.localStorage.clear(),e.push("/")}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(){var e=Object(r.b)(),t=Object(l.e)(),a=Object(n.useState)(""),c=Object(j.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(""),h=Object(j.a)(o,2),O=h[0],p=h[1];return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("User"));e&&p(e.userName)}),[p]),console.log(O),Object(m.jsx)(u.a,{className:v.a.container,children:Object(m.jsx)(d.a,{children:Object(m.jsxs)("div",{className:v.a.innerContainer,children:[Object(m.jsx)(d.a,{children:Object(m.jsx)("div",{className:v.a.imageContainer,children:Object(m.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/4/41/AliveCor_Logo_PNG.png",alt:"logo"})})}),Object(m.jsx)(d.a,{className:v.a.formContainer,children:Object(m.jsx)(b.a,{onSubmit:function(e){e.preventDefault(),localStorage.setItem("User",JSON.stringify({userName:s})),t.push("/patients")},children:O?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(f,{onClick:function(){return t.push("/patients")},children:["Continue as ",O]}),Object(m.jsx)("p",{className:v.a.mutedText,onClick:function(){return e(P(t)),void p("")},children:"Logout, Start Afresh?"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(b.a.Group,{className:"mb-3",controlId:"firstName",children:Object(m.jsx)(b.a.Control,{type:"text",placeholder:"Enter your Name to Continue",maxLength:"20",value:s,onChange:function(e){return i(e.target.value)}})}),Object(m.jsx)(f,{type:"submit",disabled:""===s,children:"Continue"})]})})})]})})})},I=a(70),A=a(122),G=a(33),F=a.n(G),B="EDIT",H="CREATE",U=a(42),q=a.n(U),R=a(46),J=a(123),z=a(121),M=a(69),W=a(49),Q=a.n(W),V=a(74),X=a(126),K=function(e,t){return function(){var a=Object(_.a)(N.a.mark((function a(n,c){var r,s,i;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{console.log(e),r=c().patientData.data,n({type:w}),(s=r.findIndex((function(e){return e.id===t})))>=0&&((i=Object(V.a)(r))[s]=Object(h.a)({id:t},e),n({type:E,payload:i}))}catch(o){console.log(o),n({type:"EDIT_PATIENT_FAIL",payload:o.response&&o.response.data.message?o.response.data.message:o.message})}case 1:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Z=function(e){var t=Object(r.b)(),a=e.type,c=e.data,s=Object(n.useState)(""),i=Object(j.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(""),O=Object(j.a)(u,2),p=O[0],x=O[1],g=Object(n.useState)(null),v=Object(j.a)(g,2),C=v[0],w=v[1],E=Object(n.useState)(""),L=Object(j.a)(E,2),T=L[0],D=L[1],P=Object(n.useState)(""),k=Object(j.a)(P,2),A=k[0],G=k[1],F=Object(n.useState)([]),H=Object(j.a)(F,2),U=H[0],W=H[1],V=Object(n.useState)(""),Z=Object(j.a)(V,2),Y=Z[0],$=Z[1],ee=Object(n.useState)(""),te=Object(j.a)(ee,2),ae=te[0],ne=te[1],ce=function(){var e=Object(_.a)(N.a.mark((function e(){var t,a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("https://restcountries.eu/rest/v2/all");case 2:t=e.sent,a=t.data,n=a.map((function(e){return{name:e.name,callingCode:e.callingCodes[0]}})),W(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var e;0===U.length&&ce(),a===B&&(e=c,console.log("populate data"),l(e.firstName),x(e.lastName),w(e.phone),D(e.email),$(e.street),ne(e.pinCode),G(e.country))}),[c]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(J.a,Object(h.a)(Object(h.a)({className:Q.a.mainContainer},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(m.jsx)(J.a.Header,{className:Q.a.modalHeader,children:Object(m.jsxs)(J.a.Title,{id:"contained-modal-title-vcenter",className:Q.a.title,children:[a===B?"Edit":"Create"," Patient"]})}),Object(m.jsx)(J.a.Body,{children:Object(m.jsxs)(b.a,{onSubmit:function(n){if(n.preventDefault(),10===C.replace(/[^0-9]/g,"").length&&""!==A){var r={firstName:o,lastName:p,email:T,phone:C,country:A,street:Y,pinCode:ae};t(a===B?K(r,c.id):function(e){return function(){var t=Object(_.a)(N.a.mark((function t(a,n){var c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{c=n().patientData.data,console.log(c),a({type:y}),c.push(Object(h.a)(Object(h.a)({},e),{},{id:Object(X.a)()})),a({type:S,payload:c})}catch(r){console.log(r),a({type:"ADD_PATIENT_FAIL",payload:r.response&&r.response.data.message?r.response.data.message:r.message})}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(r)),l(""),x(""),w(""),D(""),G(""),$(""),ne(""),G(""),e.onHide()}else C.replace(/[^0-9]/g,"").length<10?alert("Please check your details"):alert("Please don't leave any fields empty")},children:[Object(m.jsxs)(b.a.Group,{className:"mb-3",controlId:"firstName",children:[Object(m.jsx)(b.a.Label,{children:"First Name"}),Object(m.jsx)(b.a.Control,{type:"text",placeholder:"Enter First Name",maxLength:"20",value:o,onChange:function(e){return l(e.target.value)},required:!0})]}),Object(m.jsxs)(b.a.Group,{className:"mb-3",controlId:"lastName",children:[Object(m.jsx)(b.a.Label,{children:"Last Name"}),Object(m.jsx)(b.a.Control,{type:"text",placeholder:"Enter Last Name",maxLength:"20",value:p,onChange:function(e){return x(e.target.value)},required:!0})]}),Object(m.jsxs)(b.a.Group,{className:"mb-3",controlId:"email",children:[Object(m.jsx)(b.a.Label,{children:"Email address"}),Object(m.jsx)(b.a.Control,{type:"email",placeholder:"Enter Email",value:T,onChange:function(e){return D(e.target.value)},required:!0}),Object(m.jsx)(b.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(m.jsxs)(b.a.Group,{className:"mb-3",controlId:"Address",children:[Object(m.jsx)(b.a.Label,{children:"Address"}),Object(m.jsxs)(d.a,{children:[Object(m.jsx)(I.a,{children:Object(m.jsx)(R.a,{placeholder:"Select Country",value:A,onChange:function(e){return G(e)},options:U.map((function(e){return{value:e.name,label:e.name,code:e.callingCode}})),required:!0})}),Object(m.jsx)(I.a,{children:Object(m.jsx)(b.a.Control,{type:"text",placeholder:"Enter Street Name",value:Y,onChange:function(e){return $(e.target.value)},required:!0})}),Object(m.jsx)(I.a,{children:Object(m.jsx)(b.a.Control,{type:"text",placeholder:"Enter Pincode",value:ae,onChange:function(e){return ne(e.target.value)},required:!0})})]})]}),Object(m.jsx)("label",{htmlFor:"basic-url",children:"Phone Number"}),Object(m.jsxs)(z.a,{className:"mb-3",children:[Object(m.jsx)(z.a.Prepend,{children:A&&Object(m.jsxs)(z.a.Text,{id:"basic-addon1",children:["+",A.code]})}),Object(m.jsx)(M.a,{type:"number",placeholder:"Enter Phone Number",value:C,onChange:function(e){return function(e){(e=e.replace(/[^0-9]/g,"")).length>10?alert("Phone number cannot be more than ten digits"):w(e)}(e.target.value)},maxLength:"10",required:!0})]}),Object(m.jsx)(f,{type:"submit",children:a===B?"Save Changes":"Submit"})]})}),Object(m.jsx)(J.a.Footer,{children:Object(m.jsx)(f,{onClick:e.onHide,children:"Close"})})]}))})},Y=a(124),$=a(38),ee=a.n($),te=function(){var e=Object(r.b)(),t=Object(l.e)(),a=c.a.useState(!1),n=Object(j.a)(a,2),s=n[0],i=n[1];return Object(m.jsxs)(Y.a,{className:ee.a.container,children:[Object(m.jsx)(Y.a.Brand,{className:ee.a.logo,onClick:function(){return t.push("/")},children:Object(m.jsx)("h4",{children:"AliveCor"})}),Object(m.jsx)(Y.a.Toggle,{}),Object(m.jsxs)(Y.a.Collapse,{className:ee.a.buttonGroup,children:[Object(m.jsx)(b.a,{}),Object(m.jsx)(Y.a.Text,{onClick:function(){return i(!0)},className:ee.a.addButton,children:Object(m.jsx)("h6",{children:"Add Patient"})}),Object(m.jsx)(Y.a.Text,{onClick:function(){return e(P(t))},children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(m.jsx)("path",{d:"M16 9v-4l8 7-8 7v-4h-8v-6h8zm-16-7v20h14v-2h-12v-16h12v-2h-14z"})})})]}),Object(m.jsx)(Z,{type:H,show:s,onHide:function(){return i(!1)}})]})},ae=function(e){var t=Object(l.e)(),a=Object(n.useState)(""),c=Object(j.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(!1),h=Object(j.a)(o,2),O=h[0],p=h[1],x=Object(n.useState)({}),f=Object(j.a)(x,2),g=f[0],v=f[1],C=Object(n.useState)([]),N=Object(j.a)(C,2),_=N[0],y=N[1],S=Object(r.c)((function(e){return e.patientData})).data;return Object(n.useEffect)((function(){var e;y(""===s?S:(e=s,S.filter((function(t){return t.firstName.toLowerCase().includes(e.toLowerCase())||t.lastName.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase())||t.phone.toLowerCase().includes(e.toLowerCase())||t.country.value.toLowerCase().includes(e.toLowerCase())||t.street.toLowerCase().includes(e.toLowerCase())||t.pinCode.toLowerCase().includes(e.toLowerCase())}))))}),[s,S]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(te,{history:e.history}),Object(m.jsxs)(u.a,{className:F.a.container,children:[Object(m.jsxs)(d.a,{className:F.a.header,children:[Object(m.jsx)(I.a,{children:Object(m.jsx)("h3",{className:F.a.title,children:"Patient List"})}),Object(m.jsx)(I.a,{children:Object(m.jsx)(b.a,{children:Object(m.jsx)(b.a.Group,{className:"mb-3",controlId:"firstName",children:Object(m.jsx)(b.a.Control,{type:"text",placeholder:"Search Patient...",maxLength:"20",value:s,onChange:function(e){return i(e.target.value)}})})})})]}),Object(m.jsxs)(d.a,{children:[Object(m.jsxs)(A.a,{striped:!0,hover:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{sytle:{borderColor:"blue"},children:[Object(m.jsx)("th",{children:"S.NO"}),Object(m.jsx)("th",{children:"First Name"}),Object(m.jsx)("th",{children:"Last Name"}),Object(m.jsx)("th",{children:"Email"}),Object(m.jsx)("th",{children:"Phone Number"}),Object(m.jsx)("th",{children:"Address"}),Object(m.jsx)("th",{children:"Pin Code"})]})}),Object(m.jsx)("tbody",{children:_.length>0&&_.map((function(e,a){return Object(m.jsxs)("tr",{className:F.a.tableRow,onClick:function(){return t.push("/patients/".concat(e.id))},onDoubleClick:function(){return v(e),void p(!0)},children:[Object(m.jsx)("td",{children:a+1}),Object(m.jsx)("td",{children:e.firstName}),Object(m.jsx)("td",{children:e.lastName}),Object(m.jsx)("td",{children:e.email}),Object(m.jsx)("td",{children:e.phone}),Object(m.jsxs)("td",{children:[e.street,", ",e.country.value]}),Object(m.jsx)("td",{children:e.pinCode})]})}))})]}),0===_.length&&Object(m.jsx)("div",{className:F.a.noData,children:Object(m.jsx)("h4",{children:"No data found"})})]}),Object(m.jsx)(Z,{type:B,data:g,show:O,onHide:function(){return p(!1)}})]})]})},ne=a(28),ce=a.n(ne),re=function(e){var t=Object(r.b)(),a=Object(l.e)(),c=e.match.params.id,s=Object(r.c)((function(e){return e.patientData})).data,i=Object(n.useState)(""),o=Object(j.a)(i,2),h=o[0],O=o[1],p=Object(n.useState)(""),x=Object(j.a)(p,2),g=x[0],v=x[1],C=Object(n.useState)(null),y=Object(j.a)(C,2),S=y[0],E=y[1],T=Object(n.useState)(""),D=Object(j.a)(T,2),P=D[0],k=D[1],A=Object(n.useState)(""),G=Object(j.a)(A,2),F=G[0],B=G[1],H=Object(n.useState)([]),U=Object(j.a)(H,2),J=U[0],W=U[1],Q=Object(n.useState)(""),V=Object(j.a)(Q,2),X=V[0],Z=V[1],Y=Object(n.useState)(""),$=Object(j.a)(Y,2),ee=$[0],ae=$[1],ne=function(){var e=Object(_.a)(N.a.mark((function e(){var t,a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("https://restcountries.eu/rest/v2/all");case 2:t=e.sent,a=t.data,n=a.map((function(e){return{name:e.name,callingCode:e.callingCodes[0]}})),W(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){0===J.length&&ne();var e,t=s.findIndex((function(e){return e.id===c}));if(t<0)return a.push("/patients");t>-1&&(e=s[t],console.log("populate data"),O(e.firstName),v(e.lastName),E(e.phone),k(e.email),Z(e.street),ae(e.pinCode),B(e.country))}),[s,a,c,J.length]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(te,{history:e.history}),Object(m.jsxs)(u.a,{className:ce.a.container,children:[Object(m.jsx)(d.a,{children:Object(m.jsxs)("div",{className:ce.a.backContainer,onClick:function(){return a.push("/patients")},children:[Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#2D9F86",viewBox:"0 0 24 24",children:Object(m.jsx)("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})}),Object(m.jsx)("span",{className:ce.a.backText,children:"Back"})]})}),Object(m.jsx)(d.a,{className:ce.a.header,children:Object(m.jsx)(I.a,{children:Object(m.jsxs)("h3",{className:ce.a.title,children:[h,"'s Details"]})})}),Object(m.jsx)(d.a,{children:Object(m.jsx)(I.a,{children:Object(m.jsxs)(b.a,{onSubmit:function(e){(e.preventDefault(),10===S.replace(/[^0-9]/g,"").length)?(t(K({firstName:h,lastName:g,email:P,phone:S,country:F,street:X,pinCode:ee},c)),a.push("/patients")):alert("Please check your phone number")},className:ce.a.formContainer,children:[Object(m.jsxs)(b.a.Group,{className:"mb-3",controlId:"firstName",children:[Object(m.jsx)(b.a.Label,{children:"First Name"}),Object(m.jsx)(b.a.Control,{type:"text",placeholder:"Enter First Name",maxLength:"20",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(m.jsxs)(b.a.Group,{className:"mb-3",controlId:"lastName",children:[Object(m.jsx)(b.a.Label,{children:"Last Name"}),Object(m.jsx)(b.a.Control,{type:"text",placeholder:"Enter Last Name",maxLength:"20",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(m.jsxs)(b.a.Group,{className:"mb-3",controlId:"email",children:[Object(m.jsx)(b.a.Label,{children:"Email address"}),Object(m.jsx)(b.a.Control,{type:"email",placeholder:"Enter Email",value:P,onChange:function(e){return k(e.target.value)}}),Object(m.jsx)(b.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(m.jsxs)(b.a.Group,{className:"mb-3",controlId:"Address",children:[Object(m.jsx)(b.a.Label,{children:"Address"}),Object(m.jsxs)(d.a,{children:[Object(m.jsx)(I.a,{children:Object(m.jsx)(R.a,{placeholder:"Select Country",value:F,onChange:function(e){return B(e)},options:J.map((function(e){return{value:e.name,label:e.name,code:e.callingCode}}))})}),Object(m.jsx)(I.a,{children:Object(m.jsx)(b.a.Control,{type:"text",placeholder:"Enter Street Name",value:X,onChange:function(e){return Z(e.target.value)}})}),Object(m.jsx)(I.a,{children:Object(m.jsx)(b.a.Control,{type:"text",placeholder:"Enter Pincode",value:ee,onChange:function(e){return ae(e.target.value)}})})]})]}),Object(m.jsx)("label",{htmlFor:"basic-url",children:"Phone Number"}),Object(m.jsxs)(z.a,{className:"mb-3",children:[Object(m.jsx)(z.a.Prepend,{children:F&&Object(m.jsxs)(z.a.Text,{id:"basic-addon1",children:["+",F.code]})}),Object(m.jsx)(M.a,{type:"number",placeholder:"Enter Phone Number",maxLength:"10",value:S,onChange:function(e){return function(e){(e=e.replace(/[^0-9]/g,"")).length>10?alert("Phone number cannot be more than ten digits"):E(e)}(e.target.value)}})]}),Object(m.jsx)(b.a.Group,{children:Object(m.jsxs)("div",{className:ce.a.buttonGroup,children:[Object(m.jsx)(f,{type:"submit",children:"Save Changes"}),Object(m.jsx)(f,{style:{backgroundColor:"#CB4C4E",border:"none"},onClick:function(){var e;t((e=c,function(){var t=Object(_.a)(N.a.mark((function t(a,n){var c,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{c=n().patientData.data,a({type:w}),(r=c.findIndex((function(t){return t.id===e})))>=0&&(c.splice(r,1),a({type:L,payload:c}))}catch(s){console.log(s)}case 1:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}())),a.push("/patients")},children:"Delete Patient"})]})})]})})})]})]})};var se=function(){return Object(m.jsx)("div",{children:Object(m.jsxs)(o.a,{basename:"/AliveCor",children:[Object(m.jsx)(l.a,{path:"/",component:k,exact:!0}),Object(m.jsx)(l.a,{path:"/patients",component:ae,exact:!0}),Object(m.jsx)(l.a,{path:"/patients/:id",component:re,exact:!0})]})})},ie=a(37),oe=a(72),le=a(73),je=Object(ie.combineReducers)({patientData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case S:return Object(h.a)(Object(h.a)({},e),{},{data:t.payload});case w:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case E:case L:return Object(h.a)(Object(h.a)({},e),{},{data:t.payload});case T:return Object(h.a)(Object(h.a)({},e),{},{data:[]});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(h.a)(Object(h.a)({},e),{},{data:null});default:return e}}}),ue=[oe.a],de=Object(ie.createStore)(je,{patientData:{data:[]},user:{}},Object(le.composeWithDevTools)(ie.applyMiddleware.apply(void 0,ue)));i.a.render(Object(m.jsx)(r.a,{store:de,children:Object(m.jsx)(se,{})}),document.getElementById("root"))},28:function(e,t,a){e.exports={container:"patientDetail_container__MXAAf",header:"patientDetail_header__1xNQA",title:"patientDetail_title__3elIL",backContainer:"patientDetail_backContainer__39jaD",backText:"patientDetail_backText__3zV1t",buttonGroup:"patientDetail_buttonGroup__2UEg4"}},32:function(e,t,a){e.exports={container:"landingScreen_container__3Jogs",innerContainer:"landingScreen_innerContainer__3-2KA",imageContainer:"landingScreen_imageContainer__1pOlh",formContainer:"landingScreen_formContainer__19WC9",mutedText:"landingScreen_mutedText__2x7B4"}},33:function(e,t,a){e.exports={container:"patientListing_container__38l3B",header:"patientListing_header__340ix",title:"patientListing_title__1MzJq",noData:"patientListing_noData__2Htuh",tableRow:"patientListing_tableRow__3dW3H"}},38:function(e,t,a){e.exports={container:"navbar_container__1cFaD",logo:"navbar_logo__3GX9H",addButton:"navbar_addButton__3CenP",buttonGroup:"navbar_buttonGroup__NZV0q"}},49:function(e,t,a){e.exports={modalHeader:"editPatient_modalHeader__3pyUq",title:"editPatient_title__1JgcU"}},68:function(e,t,a){e.exports={button:"customButton_button__GDCB0"}}},[[116,1,2]]]);
//# sourceMappingURL=main.c8b25c11.chunk.js.map